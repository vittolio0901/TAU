<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KOICHI USHIJIMA â€” Portfolio</title>
  <meta name="description" content="ç‰›å³¶ã€€æ´¸ä¸€ â€” Portfolio (ç·åˆå‹é¸æŠœ)" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    /* --- Reset --- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Inter', 'Helvetica Neue', 'Noto Sans JP', Arial, sans-serif;
      background:#fff;
      color:#111;
      -webkit-font-smoothing:antialiased;
      line-height:1.65;
    }

    /* --- Sidebar --- */
    :root{
      --aside-w:220px;
      --g: clamp(12px, 2.4vw, 28px);
      --muted:#6e6e6e;
    }
    aside{
      position:fixed;
      top:0; left:0;
      width:var(--aside-w);
      height:100vh;
      padding: calc(var(--g) * 1.6) calc(var(--g) * 0.8);
      border-right:1px solid #eee;
      background:#fff;
      display:flex;
      flex-direction:column;
      justify-content:flex-start;
      gap:calc(var(--g) * 0.6);
    }
    .brand{
      font-weight:700;
      letter-spacing:0.03em;
      text-transform:uppercase;
      line-height:1.05;
      font-size:1.05rem;
      margin-bottom:calc(var(--g) * 0.8);
    }
    nav.primary{ display:flex; flex-direction:column; gap:10px; margin-top:12px; }
    nav.primary a{
      text-decoration:none;
      color:inherit;
      font-weight:600;
      font-size:0.95rem;
      padding:6px 0;
    }
    nav.primary a:hover{ color:#333; }

    /* --- Main --- */
    main{
      margin-left: calc(var(--aside-w) + 24px);
      max-width:1100px;
      padding: calc(var(--g) * 1.6) 40px;
    }
    section{ margin-bottom: calc(var(--g) * 3.2); }
    .section-title{ font-size:1.1rem; font-weight:600; margin-bottom:12px; border-bottom:1px solid #f2f2f2; padding-bottom:8px; }

    /* ABOUT text formatting */
    .about p{ color:var(--muted); margin:10px 0; white-space:pre-line; font-size:0.98rem; }

    /* --- Works grid --- */
    .works-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:20px;
    }
    .work-card{
      background:#fff;
      border:1px solid #f0f0f0;
      border-radius:8px;
      overflow:hidden;
      cursor:pointer;
      transition: transform .18s ease, box-shadow .18s ease;
      display:flex;
      flex-direction:column;
      min-height: 100%;
    }
    .work-card:hover{ transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.06); }
    .work-card img{ width:100%; height:220px; object-fit:cover; display:block; }
    .work-meta{ padding:12px 14px 18px 14px; }
    .work-meta h3{ font-size:1rem; margin:0 0 6px 0; font-weight:700; }
    .work-meta p{ margin:0; color:var(--muted); font-size:0.92rem; }

    /* --- Modal (image + info + nav) --- */
    .modal{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.76);
      align-items:center;
      justify-content:center;
      z-index:1400;
      padding:28px;
    }
    .modal.open{ display:flex; }
    .modal-panel{
      width:100%;
      max-width:1100px;
      background:#fff;
      border-radius:8px;
      padding:18px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:18px;
      align-items:start;
      box-shadow: 0 24px 80px rgba(0,0,0,0.32);
    }
    .modal-media img{ width:100%; height:auto; border-radius:6px; display:block; }
    .modal-info h3{ margin:0 0 8px 0; font-size:1.05rem; }
    .modal-info p{ margin:0; color:var(--muted); white-space:pre-wrap; font-size:0.95rem; }
    .modal-close{
      position:absolute; top:18px; right:18px;
      background:transparent; border:0; color:#fff; font-size:30px; cursor:pointer;
    }
    .modal-nav{ display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }
    .modal-nav button{ background:#111; color:#fff; border:0; padding:8px 10px; border-radius:6px; cursor:pointer; }

    footer{ margin-top:18px; color:var(--muted); font-size:0.9rem; }

    /* --- Responsive --- */
    @media (max-width: 900px){
      :root{ --aside-w:72px; }
      aside{ width:72px; padding:18px 10px; }
      .brand{ font-size:0.95rem; }
      main{ margin-left: calc(var(--aside-w) + 14px); padding:22px; }
      .work-card img{ height:180px; }
      .modal-panel{ grid-template-columns:1fr; }
    }
    @media (max-width: 700px){
      aside{
        position:fixed; top:0; left:0; right:0; height:auto; width:100%;
        flex-direction:row; align-items:center; justify-content:space-between;
        border-right:none; border-bottom:1px solid #eee; padding:12px 16px;
      }
      nav.primary{ flex-direction:row; gap:10px; }
      main{ margin-left:0; padding-top: calc(56px + 12px); padding-left:16px; padding-right:16px; }
    }

    /* small helper */
    .muted{ color:var(--muted) !important; }
  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <aside aria-label="Main sidebar">
    <div class="brand">KOICHI<br>USHIJIMA</div>

    <nav class="primary" aria-label="Primary navigation">
      <a href="#about">ABOUT</a>
      <a href="#works">WORKS</a>
      <a href="#works">GAME</a>
      <a href="#process">PROCESS</a>
      <a href="#contact">CONTACT</a>
    </nav>
  </aside>

  <!-- MAIN -->
  <main role="main">
    <!-- ABOUT -->
    <section id="about" aria-labelledby="about-title">
      <h2 id="about-title" class="section-title">ABOUT</h2>
      <div class="about">
ã€€ã€€ã€€ã€€<img src="IMG_5465.jpg" alt="è‡ªåˆ†ã®ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆ" style="float:right;margin:0 0 1rem 1.5rem; width:250px; border-radius:12px;">
        <p><strong>åå‰ï¼š</strong>ç‰›å³¶ã€€æ´¸ä¸€</p>

       <p><strong>1. è‡ªåˆ†ã®ç†å¿µ</strong>
        ç•°åˆ†é‡ã®çŸ¥è­˜ã¨ãƒ‡ã‚¸ã‚¿ãƒ«è¡¨ç¾ã§ã€ã€Œæƒ…å ±ç¤¾ä¼šã®èª²é¡Œã‚’æ­¢æšï¼ˆã‚¢ã‚¦ãƒ•ãƒ˜ãƒ¼ãƒ™ãƒ³ï¼‰ã€ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ¢æ±‚</p>

        <p><strong>2. åŸºæœ¬æƒ…å ±ã¨åˆ¶ä½œã‚¹ã‚¿ãƒ³ã‚¹</strong>
        å¹´é½¢ï¼š23æ­³
        å‡ºèº«ï¼šå¼˜å­¦é¤¨é«˜ç­‰å­¦æ ¡ / å¤§å­¦
        <strong>ãƒ»ã‚¹ã‚¿ãƒ³ã‚¹ï¼š</strong>åŒ»ç™‚ç³»å­¦éƒ¨ã§é¤Šã£ãŸè«–ç†çš„æ€è€ƒåŠ›ã¨ã€ãƒ‡ã‚¸ã‚¿ãƒ«æŠ€è¡“ï¼ˆBlender/Unityï¼‰ã‚’ç”¨ã„ãŸç«‹ä½“çš„ãªæ§‹æƒ³åŠ›ã‚’èåˆã•ã›ã€è¡¨é¢çš„ãªæƒ…å ±æ•´ç†ã«ç•™ã¾ã‚‰ãªã„ã€ç¤¾ä¼šã®æ ¸å¿ƒã«è¿«ã‚‹æƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å¿—å‘ã€‚</p>

        <p><strong>3. æƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³ã¸ã®é–¢å¿ƒã¨å¿—æœ›å‹•æ©Ÿ</strong>
        ç§ã¯é«˜æ ¡å’æ¥­å¾Œã€åŒ»ç™‚ç³»å­¦éƒ¨ã§ï¼”å¹´é–“ã€äººã®èº«ä½“ã‚„æ§‹é€ ã¨å‘ãåˆã†ãã®éç¨‹ã§ã€ã€Œæƒ…å ±ãŒäººã«ä¸ãˆã‚‹å½±éŸ¿ã€ã€ç‰¹ã«ã€Œä¸å®‰ã‚„èª¤è§£ã®ãªã„æ­£ç¢ºãªä¼é”ã€ã®é‡è¦æ€§ã‚’ç—›æ„Ÿã—ãŸã€‚ã—ã‹ã—ã€æ ¹æºçš„ã«æŠ±ãˆã¦ã„ãŸã‚¢ãƒ¼ãƒˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã¨å‘ãåˆã„ãŸã„ã¨ã„ã†æ¬²æ±‚ã¨ã®ä¹–é›¢ã‚’å¼·ãæ„Ÿã˜ã€è‡ªèº«ã®æŒã¤è¡¨ç¾åŠ›ã¨ç¤¾ä¼šã¸ã®è²¢çŒ®æ„æ¬²ã‚’æœ€å¤§é™ã«æ´»ã‹ã›ã‚‹é“ã¨ã—ã¦ã€æƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³ã¸ã®è»¢å‘ã‚’æ±ºæ„ã—ãŸã€‚æƒ…å ±ãŒæ°¾æ¿«ã™ã‚‹ç¾ä»£ç¤¾ä¼šã«ãŠã„ã¦ã€ç§ã¯ã€Œæƒ…å ±ç¤¾ä¼šã«ãŠã‘ã‚‹ã‚¢ãƒ³ãƒãƒ†ãƒ¼ã‚¼ã€ã‚’æ²ã’ã€ãŸã ã®ä¾¿åˆ©ã•ã‚„ç¾ã—ã•ã§ã¯ãªãæœ¬è³ªçš„ãªèª²é¡Œã‚’è§£æ±ºã—ã€ã‚ˆã‚Šé«˜ã„æ¬¡å…ƒã¸ã¨å°ãã€Œæ­¢æšã€ã‚’ãƒ‡ã‚¶ã‚¤ãƒ³ã§å®Ÿç¾ã—ãŸã„ã¨è€ƒãˆæƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³å°‚æ”»ã‚’å¿—æœ›ã—ãŸã€‚</p>

        <p><strong>4. åˆ¶ä½œã‚¹ã‚­ãƒ«ã¨çµŒé¨“</strong>
        <strong>ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢æŠ€è¡“ï¼š</strong>
        å¹¼å°‘æœŸã‹ã‚‰ä»Šã«è‡³ã‚‹ã¾ã§ã‚²ãƒ¼ãƒ ãŒå¥½ãã§ã€ç‰¹ã«æ˜¨ä»Šã¯AR/VRã«èˆˆå‘³ãŒã‚ã‚ŠBlenderã‚„Unityã¨ã„ã£ãŸ3Dãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåˆ¶ä½œç’°å¢ƒã«ç‹¬å­¦ã§è§¦ã‚Œã¦ããŸã€‚ç¾åœ¨ã§ã¯è¶£å‘³ã¨ã—ã¦ã€ç¾å®Ÿç©ºé–“ã¨ãƒ‡ã‚¸ã‚¿ãƒ«ç©ºé–“ã‚’ã¤ãªãã‚ˆã†ãªã€Œå°ç‰©åˆ¶ä½œã€ã«å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ã€‚ã“ã‚Œã¯ã€å¹³é¢ãƒ‡ã‚¶ã‚¤ãƒ³ã ã‘ã§ãªãã€æƒ…å ±ã‚„ä½“é¨“ã‚’ç©ºé–“çš„ãƒ»æ™‚é–“çš„ã«æ‰ãˆã‚‹åŠ›ã«ã¤ãªãŒã‚‹å¤§ããªã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ã§ã‚ã‚‹ã¨æ€ã†ã€‚
        <strong>ãƒ»è¦–è¦šè¡¨ç¾ã®åŸºç¤ï¼š</strong>
        å¹¼å°‘æœŸã‹ã‚‰ã®è¶£å‘³ã§ã‚ã‚‹å†™çœŸã¯ã€ç§ã®ã€Œè¦³å¯ŸåŠ›ã€ã®åŸºç›¤ã¨ãªã£ãŸã€‚é«˜æ ¡æ™‚ä»£ã«ã¯ç¾è¡“éƒ¨ã§å†™çœŸå°‚æ”»ã¨ã—ã¦æ´»å‹•ã—ã€ä½³ä½œãªã©ã®å—è³çµŒé¨“ã‚’é€šã˜ã€å…‰ãƒ»æ§‹å›³ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ€§ã‚’ä¸€æšã®è¦–è¦šæƒ…å ±ã«å‡ç¸®ã™ã‚‹åŠ›ã‚’ç£¨ã„ãŸã€‚</p>

        <p><strong>5. å°†æ¥ã®å±•æœ›</strong>
        æƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³å­¦ç§‘æƒ…å ±ãƒ‡ã‚¶ã‚¤ãƒ³å°‚æ”»ã§ã€ã“ã‚Œã¾ã§ã«åŸ¹ã£ãŸç•°åˆ†é‡ã®çŸ¥è­˜ã¨è«–ç†çš„æ€è€ƒã€åŠã³3Dãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¡¨ç¾æŠ€è¡“ã‚’ã€ä½“ç³»çš„ãªãƒ‡ã‚¶ã‚¤ãƒ³ç†è«–ã¨çµã³ã¤ã‘ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹ã€‚ç‰¹ã«ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å°ã•ã„é ƒã‹ã‚‰è§¦ã‚Œã¦ããŸäººé–“ã¨ã—ã¦ã€æƒ…å ±ã«åŸ‹æ²¡ã™ã‚‹ç¾ä»£ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã€ã€Œä¾¡å€¤ã‚ã‚‹æƒ…å ±ã€ã‚’ã€Œæ·±ãè¦–è¦šçš„ã«ç†è§£ã•ã›ã‚‹ã€ãŸã‚ã®æ–°ã—ã„ãƒ¡ãƒ‡ã‚£ã‚¢è¡¨ç¾ã‚„UI/UXã‚’æ¢æ±‚ã—ã€å¤šæ–¹é¢ã¨é€£æºã—ç¤¾ä¼šæ§‹ç¯‰ã§ãã‚‹ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚’ç›®æŒ‡ã—ãŸã„ã€‚</p>
      </div>
    </section>

    <!-- WORKS -->
    <section id="works" aria-labelledby="works-title">
      <h2 id="works-title" class="section-title">WORKS</h2>

      <div class="works-grid" id="worksGrid">
        <article class="work-card" tabindex="0"
                 data-title="ãƒ‡ãƒƒã‚µãƒ³ã¨å¹³é¢æ§‹æˆ"
                 data-desc="ä»Šå¹´ã®ä¸ƒæœˆã‹ã‚‰ç”»å¡¾ã«é€šã„ãƒ‡ãƒƒã‚µãƒ³ã¨å¹³é¢æ§‹æˆã¨å§‹ã‚ãŸã€‚"
                 data-series='[
                 "dessin.jpg",
                 "2.jpg",
                 "3.jpg",
                 "4.jpg",
                 "5.jpg",
                 "6.jpg",
                 "7.jpg"
                 ]'>
          <img src="dessin.jpg" alt="ãƒ‡ãƒƒã‚µãƒ³ã¨å¹³é¢æ§‹æˆ">
          <div class="work-meta">
            <h3>ãƒ‡ãƒƒã‚µãƒ³ã¨å¹³é¢æ§‹æˆ</h3>
            <p class="muted">ãƒ‡ãƒƒã‚µãƒ³ / å¹³é¢æ§‹æˆ Â· 2025/Jul-Oct</p>
          </div>
        </article>

        <article class="work-card" tabindex="0"
                 data-title="Photographï¼šNatura"
                 data-desc="ã“ã‚Œã‚‰ã®å†™çœŸã¯ãƒ‹ãƒ¼ãƒã‚§ã®ã€Œæ°¸åŠ«å›å¸°ã€ã®è€ƒãˆã‚’è‡ªç„¶ç‰©ã¨äººå·¥ç‰©ã«å½“ã¦ã¯ã‚ã€ãã®æ™‚ã€…ã®æ™‚é–“ã‚’åˆ‡ã‚Šå–ã£ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚ã“ã®å†™çœŸç¾¤ã«ã¯ãƒ†ãƒ¼ãƒã¨ã—ã¦ã€Œå­£ç¯€ãŒç§»ã‚ã„ã€èŠ½ãŒå‡ºã¦èŠ±ãŒå’²ãæ¯ã‚Œã¦åœŸã«é‚„ã‚‹ã“ã¨ã€æ°´ãŒé‡åŠ›ã«é€†ã‚‰ãˆãšè½ä¸‹ã—å½¢ãŒå¤‰å®¹ã™ã‚‹æ§˜å­ãªã©ã¯æœ¬å½“ã«å„šãæ‚²ã—ã„ã“ã¨ã§ã‚ã‚‹ã ã‚ã†ã‹ï¼Ÿã€ã¨ã„ã†å•ã„ã‚’æŒãŸã›ã¦ã„ã‚‹ã€‚ã‚¿ã‚¤ãƒˆãƒ«ã®Naturaã¯ãƒ©ãƒ†ãƒ³èªã®è‡ªç„¶ã‹ã‚‰åä»˜ã‘ãŸã€‚ã“ã®å†™çœŸã‚’è¦‹ã¦è‡ªç„¶ã®å¾ªç’°ã¯ã€Œæ‚²åŠ‡ã§ã¯ãªãåŠ›å¼·ã„ç”Ÿå‘½ã®è‚¯å®šã§ã‚ã‚‹ã€ã¨ã„ã†ç§ãªã‚Šã®è§£é‡ˆã‚’æ„Ÿã˜ã¦æ¬²ã—ã„ã€‚"
                 data-series='[
                 "DSC_0792.JPG",
                 "DSC_0636.JPG",
                 "DSC_0699.JPG",
                 "DSC_0705.JPG",
                 "DSC_0942.JPG",
                 "DSC_0800.JPG",
                 "DSC_0816.JPG"
                 ]'>
          <img src="DSC_0792.JPG" alt="å†™çœŸï¼šNatura">
          <div class="work-meta">
            <h3>Photographï¼šNatura</h3>
            <p class="muted">Photography Â· 2021â€“2025</p>
          </div>
        </article>

        <article class="work-card" tabindex="0"
                 data-title="Unityã¨Blenderé–¢ä¿‚"
                 data-desc="3Dç€ç”¨ãƒ¢ãƒ‡ãƒ«ã®ä¸‰é¢å›³ã‚„ã‚¢ãƒã‚¿ãƒ¼ã‚’æ”¹å¤‰ã—ãŸã‚Šã—ã¦Unityæ’®å½±ã—ãŸã‚‚ã®"
                 data-series='[
                 "unity2.jpg",
                 "Unity.jpg",
                 "test.png",
                 "4.jpg",
                 "5.jpg",
                 "6.jpg",
                 "7.jpg"
                 ]'>
          <img src="unity2.jpg" alt="Unityã¨Blenderé–¢ä¿‚">
          <div class="work-meta">
            <h3>Unityã¨Blenderé–¢ä¿‚</h3>
            <p class="muted">Graphic Â· 2023</p>
          </div>
        </article>

      </div>

      <p style="margin-top:12px;color:var(--muted);font-size:0.92rem">
      </p>
    </section>

	<!-- GAME -->
	<section id="minigame" aria-labelledby="minigame-title">
  		<h2 id="minigame-title" class="section-title">MINI GAME: Guess the Number ğŸ•¹ï¸</h2>
  		<div id="gameContainer" style="padding: 16px; border: 1px solid #ddd; border-radius: 8px;">
    		<p id="gameStatus" style="font-weight: 600; margin-bottom: 12px;"></p>
    		<div style="display: flex; gap: 8px; align-items: center;">
      			<input type="number" id="guessInput" min="1" max="10" placeholder="Enter 1-10" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; width: 120px;">
      			<button id="guessButton" style="background: #111; color: #fff; border: 0; padding: 8px 12px; border-radius: 6px; cursor: pointer;">Guess</button>
      			<button id="gameResetButton" style="background: #e74c3c; color: #fff; border: 0; padding: 8px 12px; border-radius: 6px; cursor: pointer; display: none;">Play Again</button>
    		</div>
  		</div>
	</section>



    <!-- PROCESS -->
    <section id="process" aria-labelledby="process-title">
      <h2 id="process-title" class="section-title">PROCESS</h2>
      <div class="process-list" style="display:flex;flex-direction:column;gap:12px;">
        <div class="process-item" style="padding:12px;border-left:3px solid #f2f2f2;background:#fff;border:1px solid #f7f7f7;">
          <strong>Unity å°ç‰©ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ— â€” è©¦ä½œâ†’è©•ä¾¡â†’æ”¹å–„</strong>
          <p class="muted" style="margin-top:8px">ãƒ¢ãƒ‡ãƒªãƒ³ã‚°â†’ã‚¤ãƒ³ãƒãƒ¼ãƒˆâ†’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆã®å„æ®µéšã§ã®ãƒ¡ãƒ¢ã‚„å¤±æ•—ã€æ”¹å–„ç‚¹ã‚’æç¤ºã€‚</p>
        </div>
        <div class="process-item" style="padding:12px;border-left:3px solid #f2f2f2;background:#fff;border:1px solid #f7f7f7;">
          <strong>å†™çœŸã‚·ãƒªãƒ¼ã‚º â€” æ’®å½±ãƒãƒ¼ãƒˆ</strong>
          <p class="muted" style="margin-top:8px">æ’®å½±åœ°ãƒ»æ™‚é–“ãƒ»æ©Ÿæãƒ»æ§‹å›³ãƒ¡ãƒ¢ã€‚æ„å›³ã—ãŸè¦–ç‚¹ã¨å¶ç™ºçš„ãªç™ºè¦‹ã®è¨˜éŒ²ã€‚</p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" aria-labelledby="contact-title">
      <h2 id="contact-title" class="section-title">CONTACT</h2>
      <div class="contact">
        <p>Email: <a href="mailto:momose140901@gmail.com">momose140901@gmail.com</a></p>
      </div>

      <footer>Â© 2025 Koichi Ushijima</footer>
    </section>
  </main>

  <!-- MODAL -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <button class="modal-close" aria-label="é–‰ã˜ã‚‹" style="position:absolute;top:18px;right:18px;background:transparent;border:0;color:#fff;font-size:30px;cursor:pointer;">&times;</button>

    <div class="modal-panel" role="document" style="position:relative;">
      <div class="modal-media">
        <img id="modalImg" src="" alt="">
      </div>
      <div class="modal-info">
        <h3 id="modalTitle"></h3>
        <p id="modalDesc" class="muted"></p>
        <div class="modal-nav" style="margin-top:16px">
          <button id="prevBtn" aria-label="å‰ã®ä½œå“">â—€ï¸ Prev</button>
          <button id="nextBtn" aria-label="æ¬¡ã®ä½œå“">Next â–¶ï¸</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Smooth scroll (offset when sidebar becomes top bar on narrow screens)
    document.querySelectorAll('nav.primary a').forEach(anchor=>{
      anchor.addEventListener('click', function(e){
        const target = document.querySelector(this.getAttribute('href'));
        if(!target) return;
        e.preventDefault();
        const sidebar = document.querySelector('aside');
        const offset = window.innerWidth <= 700 ? (sidebar ? sidebar.offsetHeight : 56) : 0;
        const top = target.getBoundingClientRect().top + window.scrollY - offset - 12;
        window.scrollTo({ top, behavior: 'smooth' });
      });
    });

    // Modal & gallery logic (cards -> modal with prev/next)
    const cards = Array.from(document.querySelectorAll('.work-card'));
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const closeBtn = document.querySelector('.modal-close');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let currentSeries = [];
    let currentSeriesIndex = 0;

    function openModal(index){
      const card = cards[index];
      if(!card) return;

      //const large = card.dataset.large || card.querySelector('img')?.src;
      //modalImg.src = large;
      //modalImg.alt = card.dataset.title || card.querySelector('.work-meta h3')?.textContent || '';
      currentSeries = JSON.parse(card.dataset.series || "[]");
      currentSeriesIndex = 0;
      modalTitle.textContent = card.dataset.title || '';
      modalDesc.textContent = card.dataset.desc || '';
      
      showImage();
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      //currentIndex = index;
      // focus the close button for accessibility
      closeBtn.focus();      
    }   
     function showImage(){
      const src = currentSeries[currentSeriesIndex];
      modalImg.src = src;
      modalImg.alt = modalTitle.textContent;

      modalImg.style.width = "";
      modalImg.style.height = "";

      if (src.includes("unity.jpg")){
        modalImg.style.width = "128px";
        modalImg.style.height = "128px";
      }
    }
    function showNext(){
      if(currentSeries.length === 0) return;
      currentSeriesIndex = (currentSeriesIndex + 1) % currentSeries.length;
      showImage();
    }
    function showPrev(){
      if(currentSeries.length === 0) return;
      currentSeriesIndex = (currentSeriesIndex - 1 + currentSeries.length) % currentSeries.length;
      showImage();
    }    
    function closeModal(){
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      modalImg.src = '';
      currentIndex = -1;
    }
    //function showNext(){ if(currentIndex >=0) openModal((currentIndex + 1) % cards.length); }
    //function showPrev(){ if(currentIndex >=0) openModal((currentIndex - 1 + cards.length) % cards.length); }

    // Attach events to cards
    cards.forEach((card, idx) => {
      card.addEventListener('click', () => openModal(idx));
      card.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(idx); }
      });
    });

    // Modal controls
    closeBtn.addEventListener('click', closeModal);
    prevBtn.addEventListener('click', showPrev);
    nextBtn.addEventListener('click', showNext);

    // Close when clicking outside panel
    modal.addEventListener('click', (e) => {
      if(e.target === modal) closeModal();
    });

    // Keyboard nav
    document.addEventListener('keydown', (e) => {
      if(!modal.classList.contains('open')) return;
      if(e.key === 'Escape') closeModal();
      if(e.key === 'ArrowRight') showNext();
      if(e.key === 'ArrowLeft') showPrev();
    });
  </script>
  <script src="mini-game.js"></script>
</body>
</html>
